# 🚗 Automotive Tools 汽车数据处理工具集

> 🌍 **English version available:** [点击此处查看英文版 README](./README_EN.md)  
> 📦 当前版本：**v1.2.1** | 适配 **Blender 4.5**

---

## 🧩 插件简介

**Automotive Tools** 是为汽车行业从业者开发的 **Blender 数据处理与优化插件**。  
专为 **Alias、ICEM、CATIA、NX** 等工业建模软件导出的汽车模型而设计，  
帮助快速完成数据整理、结构优化与导出前检查，让模型清晰、干净、可用。

---

## 📥 下载与安装

1. 下载插件文件（`.zip` 压缩包或 `.py` 文件）  
2. 打开 **Blender → 编辑 → 首选项 → 插件 (Add-ons)**  
3. 点击右上角「安装」按钮，选择下载的插件文件  
4. 启用插件后，在 **3D 视图右侧侧边栏 (N)** 中可见 **“AT”** 标签页

---

## ⚙️ 功能概览

### 🧱 数据处理
* **合并并保留顶点组**: 合并选中对象，并将原始顶点组保留为对象名称，方便快速选择部件。  
* **选择顶点组面**: 在编辑模式下，根据活动顶点组对顶点/边/面的影响选择面。  
* **按材质分离**: 根据分配的材质分离网格部件（保留默认命名）。  
* **清理空顶点组**: 从选中对象中移除未分配顶点的顶点组。  
* **清除拆边法线**: 清除选中对象的自定义拆边法线数据。  
* **空物体转 Collection**: 将空物体的父子层级结构转换为 Collection 嵌套结构。空物体将被删除，其内容物将移入新的 Collection 中。  
* **自动编组**: 根据物体名称将其组织到 Collection 中。提供两种模式：  
  * **简单模式**: 创建以物体名称第一部分命名的单层 Collection（例如，`Hood_40` → `Hood`）。  
  * **复杂模式**: 根据物体名称部分创建嵌套 Collection 结构（例如，`Rear_Spoiler_02` → `Rear` → `Rear_Spoiler`）。  
* **清理空集合**: 手动移除场景中所有空的 Collection。

---

### 🎨 材质操作
* **合并重复材质**: 根据用户提供的后缀样例（例如 `.001`），将遵循命名规律（例如 `Material.001`, `Material.002`）的材质合并到基础材质（例如 `Material`）中。仅处理场景中当前被对象使用的材质。  
* **清理未使用材质插槽**: 移除选中对象上未分配给任何面的材质插槽。  
* **选择多材质物体**: 选择具有超过指定数量材质插槽的对象。

---

### 🚦 导出前检查
* **选择非常规缩放**: 选择缩放值不为 1.0 的物体。  
* **按集合重命名**: 根据分配的集合名称重命名选中物体及其数据块（例如，`集合_001` → `集合`）。  
* **添加三角化**: 为选中物体添加三角化修改器。  
* **删除三角化**: 移除选中物体的所有三角化修改器。

---

## 🧱 版本更新日志

### 🆕 v1.2.1 新增功能
* **空物体转 Collection**: 修复了描述与功能不对应的BUG。 
* **自动编组**: 根据命名规则创建 Collection 层级（支持简单 / 复杂模式）。  
* **清理空集合**: 移除场景中未包含任何对象的 Collection。  
* **清理未使用材质插槽**: 一键移除选中物体中的空材质槽。  
* **选择多材质物体**: 根据阈值筛选拥有多个材质槽的对象。  
* **合并重复材质**: 用户可指定后缀样例（如 `.001`、`_001`、`-01`）进行智能合并。  

###  v1.2 新增功能
* **空物体转 Collection**: 将空物体层级转换为 Collection 嵌套结构。  
* **合并重复材质**: 自动重映射并清理重复材质数据。  

###  v1.1 新增功能
* **清除拆边法线**: 快速清除模型自定义法线数据。  
* **选择多材质插槽物体**: 筛选具有多个材质插槽的对象。  
* **多材质阈值控制**: 可设置最小材质槽数量阈值。  

###  v1.0 基础功能
* **合并并保留顶点组**: 合并多个物体并保留它们的顶点组，方便后续选择与编辑。  
* **选择顶点组面**: 在编辑模式下，根据活动顶点组快速选中对应的面集。  
* **按材质分离**: 将多材质物体按材质分离为独立对象。  
* **清理空顶点组**: 移除未绑定任何顶点的空顶点组，保持数据整洁。  
* **选择非常规缩放**: 检测并选中缩放比例不为 1 的对象，方便导出前检查。  
* **按集合重命名**: 使用所属集合名称自动重命名物体与数据块，解决导出命名超长问题。  
* **添加三角化**: 为选中物体添加三角化修改器，确保导出面片平滑一致。

---

## 💡 使用建议

* 在执行批量合并、清理前建议 **保存文件**。  
* 可与 **Datasmith** 或 **USD 导出工作流** 搭配使用，以获得最佳兼容性。  
* 建议在 Blender 4.0 以上版本运行以保证完整功能支持。

---

## 👨‍💻 作者信息

**Author:** CarlMarksWX  
🔗 GitHub: [CarlMarkswx/AutomotiveTools_for_blender](https://github.com/CarlMarkswx/AutomotiveTools_for_blender/)

---

> 🌍 [查看英文版 README → README_EN.md](./README_EN.md)
